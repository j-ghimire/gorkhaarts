<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gorkha Arts - Home</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        #photo-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }

        #photo-container img {
            width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        #photo-container img:hover {
            transform: scale(1.1);
        }

        #pagination {
            margin-top: 20px;
        }

        #pagination button {
            background-color: #4CAF50;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 5px;
        }
    </style>
    <script>
        // Global variable to store all fetched photos
        let allPhotos = [];

        // Function to load and display photos based on the selected page
        function loadPage(page) {
            const photosPerPage = 10;
            const startIndex = (page - 1) * photosPerPage;
            const endIndex = startIndex + photosPerPage;
            const currentPhotos = allPhotos.slice(startIndex, endIndex);

            // Update the photo grid with the current set of photos
            updatePhotoGrid(currentPhotos);
        }

        // Function to update the photo grid with the given photos
        function updatePhotoGrid(photos) {
            const photoContainer = document.getElementById('photo-container');
            photoContainer.innerHTML = ''; // Clear existing content

            photos.forEach((photo) => {
                const img = document.createElement('img');
                img.src = photo.download_url;
                img.alt = 'Uploaded photo';
                img.onclick = function () {
                    // Implement logic for displaying a larger view of the clicked photo
                };

                photoContainer.appendChild(img);
            });
        }

        window.onload = function () {
            // Fetch all photos and store them in the global variable
            fetch('https://api.github.com/repos/j-ghimire/gorkhaarts/contents/photos')
                .then((response) => response.json())
                .then((data) => {
                    allPhotos = data;
                    const totalPages = Math.ceil(allPhotos.length / 10);

                    // Display pagination only if there are more than 10 photos
                    const pagination = document.getElementById('pagination');
                    if (totalPages > 1) {
                        // Create pagination buttons dynamically
                        for (let i = 1; i <= totalPages; i++) {
                            const button = document.createElement('button');
                            button.textContent = i;
                            button.onclick = function () {
                                loadPage(i);
                            };
                            pagination.appendChild(button);
                        }
                    } else {
                        pagination.style.display = 'none'; // Hide pagination if there are fewer than 10 photos
                    }

                    // Load and display the first page of photos
                    loadPage(1);
                })
                .catch((error) => console.error('Error fetching photos:', error));
        };
    </script>

    <!-- Include the external JavaScript file -->
    <script src="app.js"></script>
    <style>
        /* Your existing styles go here */

        /* Styles for the photo grid */
        .photo-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
        }
        .photo-grid img {
            width: 100%; /* Ensure images take 100% of the container width */
            height: auto; /* Maintain the aspect ratio */
            border-radius: 8px; /* Add border radius for a nicer look */
            cursor: pointer; /* Add a cursor pointer for better user experience */
        }


        /* Styles for pagination */
        #pagination {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #pagination button {
            margin: 0 5px;
            cursor: pointer;
        }
    </style>

    <!-- Include the JavaScript code for admin check -->
    <script>
        function updateContentVisibility() {
            const isAdminUser = isAdmin();
            if (!isAdminUser) {
                const adminContent = document.getElementById('admin-content');
                if (adminContent) {
                    adminContent.style.display = 'none';
                }
            }
        }

        window.onload = updateContentVisibility;
    </script>
   
</head>

<body>
    <!-- Navigation Bar -->
    <nav>
        <ul>
            <li class="active"><a href="index.html">Home</a></li>
            <li><a href="shop.html">Shop</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li id="admin-link"><a href="admin-dashboard.html">Admin</a></li>
            <li id="login-link"><a href="login.html">Login</a></li>
        </ul>
    </nav>
    

    <!-- Your existing HTML content goes here -->

    <!-- Example: Add an element with ID 'admin-content' for illustration -->
    <div id="admin-content">
        <!-- Content for admin users -->
        <p>This content is only visible to admin users.</p>
    </div>
    <div>
        <!-- Add your main content here -->
        <h1>Welcome to Gorkha Arts!</h1>
        <p>Explore our collection of artworks...</p>
        <!-- Add more content as needed -->
    </div>
    <style>
        nav {
            background-color: #333; /* Dark background color */
            overflow: hidden;
        }
    
        ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
    
        li {
            float: left;
        }
    
        li a {
            display: block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }
    
        li a:hover {
            background-color: #ddd; /* Lighter background color on hover */
            color: black;
        }
    
        .active {
            background-color: #4CAF50; /* Green color for the active page */
        }
    </style>
    <div id="photo-container">
  <!-- Photos will be dynamically added here -->
    </div>
    <div id="pagination">
        <button onclick="loadPage(1)">1</button>
        <button onclick="loadPage(2)">2</button>
        <!-- Add more buttons for additional pages as needed -->
    </div>
    
        


    <!-- Include other content and elements as needed -->

    <!-- Include the script for navigation links -->
    <script>
        document.getElementById("login-link").style.display = isAdmin() ? "none" : "block";
        document.getElementById("admin-link").style.display = isAdmin() ? "block" : "none";
    </script>
    <script src="app.js"></script>
   
</body>

</html>
